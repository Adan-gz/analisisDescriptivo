% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generar_descriptivo_numerico.R
\name{generar_descriptivo_numerico}
\alias{generar_descriptivo_numerico}
\title{Generar descriptivo para una variable numérica}
\usage{
generar_descriptivo_numerico(
  datos,
  var_numerica,
  vars_grupo = NULL,
  var_peso = NULL,
  nivel_confianza = 0.95
)
}
\arguments{
\item{datos}{Data frame o tibble que contiene la variable numérica a analizar.}

\item{var_numerica}{Nombre (carácter) de la variable numérica a analizar.}

\item{vars_grupo}{Vector de nombres de variables para agrupar. Si es \code{NULL} (por defecto), no se realiza agrupamiento.}

\item{var_peso}{Nombre (carácter) de la variable de peso. Si es \code{NULL} (por defecto), se calculan estadísticas sin ponderar.}

\item{nivel_confianza}{Nivel de confianza para el cálculo de intervalos (por defecto \code{0.95}).}
}
\value{
Data frame con las estadísticas descriptivas calculadas. Entre las variables se incluyen:
\itemize{
\item \code{Variable}: Nombre de la variable.
\item \code{N}: Número de observaciones completas.
\item \code{Missing}: Número de observaciones faltantes.
\item \code{Media}: Promedio de la variable.
\item \code{Min}: Valor mínimo.
\item \code{Q25}: Primer cuartil.
\item \code{Mediana}: Mediana.
\item \code{Q75}: Tercer cuartil.
\item \code{Max}: Valor máximo.
\item \code{sd}: Desviación estándar.
\item \code{hist}: Histograma inline.
\item \code{Media_Min} y \code{Media_Max} (o \code{Media_w_Min} y \code{Media_w_Max} en caso de ponderación): Límites inferior y superior del intervalo de confianza.
}
}
\description{
Calcula medidas descriptivas básicas para una variable numérica, incluyendo conteos, estadísticos (media, mediana, cuantiles, etc.),
desviación estándar y un histograma inline. Además, calcula intervalos de confianza para la media y, si se especifica una variable de pesos,
se calculan estadísticas ponderadas. Internamente se utiliza \code{lm} y \code{emmeans} para obtener los intervalos, especialmente relevante
en el caso de agrupar.
}
\details{
La función realiza los siguientes pasos:
\enumerate{
\item Se asegura que la variable sea de tipo \code{numeric}.
\item Si se especifican variables de agrupación, se agrupa el data frame.
\item Se calculan medidas descriptivas básicas utilizando \code{dplyr::summarise} y funciones de \code{skimr}.
\item Si no se especifica una variable de peso, se calcula el intervalo de confianza para la media basándose en
el conteo (\code{N}) y la desviación estándar (\code{sd}) mediante la función \code{margenError_num}.
\item Si se especifica la variable de peso, se calculan la media y desviación estándar ponderadas, además del
tamaño muestral efectivo (\code{N_eff}), y se computan los intervalos correspondientes.
\item Se renombrarán las columnas de intervalos, añadiéndoles un sufijo que indica el nivel de confianza.
}
}
\examples{
\dontrun{
  # Ejemplo sin ponderación:
  resumen <- generar_descriptivo_numerico(
               datos = mtcars,
               var_numerica = "mpg",
               nivel_confianza = 0.95
             )

  # Ejemplo con ponderación (suponiendo que 'wt' es la variable de peso):
  resumen_ponderado <- generar_descriptivo_numerico(
                          datos = mtcars,
                          var_numerica = "mpg",
                          var_peso = "wt",
                          nivel_confianza = 0.95
                        )
}

}
